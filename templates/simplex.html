<!-- myapp/templates/simplex.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simplex Method</title>
    <style>
        .constraint-input {
            margin-bottom: 10px;
        }
        .add-constraint-btn {
            margin-top: 10px;
        }
    </style>
    <script>
        // Function to dynamically add constraint fields
        function addConstraint() {
            const constraintsContainer = document.getElementById('constraints-container');
            const newConstraintDiv = document.createElement('div');
            newConstraintDiv.classList.add('constraint-input');
            newConstraintDiv.innerHTML = `
                <input type="text" name="constraints" placeholder="e.g., 2 3 12" required>
                <button type="button" onclick="removeConstraint(this)">Remove</button>
            `;
            constraintsContainer.appendChild(newConstraintDiv);
        }

        // Function to remove a constraint field
        function removeConstraint(button) {
            const constraintsContainer = document.getElementById('constraints-container');
            constraintsContainer.removeChild(button.parentElement);
        }
    </script>
</head>
<body>
    <h1>Simplex Method</h1>
    <form method="POST">
        {% csrf_token %}
        <label for="optimization-type">Optimization Type:</label><br>
        <select id="optimization-type" name="optimization_type">
            <option value="maximize">Maximize</option>
            <option value="minimize">Minimize</option>
        </select><br><br>

        <label for="objective-function">Objective Function (e.g., 4 6 for 4x1 + 6x2):</label><br>
        <input type="text" id="objective-function" name="objective_function" placeholder="e.g., 4 6" required><br><br>

        <label for="constraints">Constraints:</label><br>
        <div id="constraints-container">
            <div class="constraint-input">
                <input type="text" name="constraints" placeholder="e.g., 2 3 12" required>
                <button type="button" onclick="removeConstraint(this)">Remove</button>
            </div>
        </div>
        <button type="button" class="add-constraint-btn" onclick="addConstraint()">+ Add Constraint</button><br><br>

        <button type="submit">Submit</button>
    </form>

    {% if solution %}
    <h3>Optimal Solution:</h3>
    <p>Optimal Value: {{ optimal_value }}</p>
    <p>x1: {{ solution.x1 }}</p>
    <p>x2: {{ solution.x2 }}</p>
    {% endif %}
</body>
</html>
